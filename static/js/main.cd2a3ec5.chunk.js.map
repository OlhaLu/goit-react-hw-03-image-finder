{"version":3,"sources":["components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","config/configAPI.js","components/App.js","index.js"],"names":["SearchForm","state","value","handleChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","this","className","styles","searchForm","type","autoComplete","onChange","placeholder","Component","PhotoCard","images","showLargeImage","photo_card","src","webformatURL","alt","tags","class","likes","views","comments","downloads","fullscreenButton","onClick","largeImageURL","uuidv1","require","Gallery","gallery","map","item","key","onModalOpen","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","console","log","code","onModalClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","backdrop","ref","role","modal","fetchPhotos","query","pageNumber","perPage","fetch","then","res","json","data","hits","catch","error","mapper","id","App","modalImage","currentPage","currentRequest","page","getImages","prevState","hendelLoadMore","image","prevProps","scrollTo","top","left","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cd2a3ec5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport styles from '../../styles.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n  \r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    onSubmit(value);\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form \r\n      className={styles.searchForm} \r\n      onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.css';\r\n\r\nconst PhotoCard = ({ images, showLargeImage }) => (\r\n  <div className={styles.photo_card}>\r\n  <img src={images.webformatURL} alt={images.tags}/>\r\n\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      {images.likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      {images.views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      {images.comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      {images.downloads}\r\n    </p>\r\n  </div>\r\n\r\n  <div>\r\n    <button\r\n      type=\"button\"\r\n      className={styles.fullscreenButton}\r\n      onClick={() => showLargeImage(images.largeImageURL)}\r\n    >\r\n      <i className=\"material-icons\">zoom_out_map</i>\r\n    </button>\r\n  </div>\r\n  </div>\r\n  )\r\n\r\nPhotoCard.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    tags: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  showLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from '../../styles.css';\r\nconst uuidv1 = require('uuid/v1');\r\n\r\nconst Gallery = ({ images, showLargeImage }) => (\r\n  <ul className={styles.gallery}>\r\n    {images.map(item => (\r\n      <li key={uuidv1()} \r\n      className=\"galleryItem\">\r\n        <PhotoCard \r\n        item={item} \r\n        onModalOpen={showLargeImage} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Gallery;","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onModalClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    console.log(e);\r\n\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}","export const fetchPhotos = (query = '', pageNumber = 1, perPage = 12) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=\r\n      ${query}&page=${pageNumber}&per_page=${perPage}key=14060203-0d0b2ec7a98403a3629cc5af2`,\r\n    )\r\n      .then(res => res.json())\r\n      .then(res => res.data.hits)\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };\r\n","import React, { Component } from 'react';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport Gallery from './Gallery/Gallery';\r\nimport Modal from './Modal/Modal';\r\nimport {fetchPhotos} from '../config/configAPI';\r\n// import styles from '../../styles.css';\r\n\r\nconst mapper = images => {\r\n  return images.map(({\r\n    id, webformatURL, largeImageURL, likes, views, comments, downloads}) => ({\r\n    id, webformatURL, largeImageURL, likes, views, comments, downloads\r\n  }));\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    pageNumber: 1,\r\n    images: [],\r\n    modalImage: false,\r\n    currentPage: 1,\r\n    currentRequest: ''\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { images } = this.state;\r\n    if (prevState.images !== images) {\r\n      window.scrollTo({\r\n        top: 100,\r\n        left: 100,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit = query => {\r\n    this.setState({ query, images: [], page: 1 }, this.getImages);\r\n  };\r\n  \r\n  getImages = () => {\r\n    const { query, pageNumber } = this.state;\r\n  \r\n    fetchPhotos(query, pageNumber)\r\n      .then(images => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...mapper(images)],\r\n          pageNumber: prevState.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n};\r\n\r\nhendelLoadMore = () =>\r\nthis.setState(({ currentPage }) => {\r\n  return { currentPage: currentPage + 1 };\r\n});\r\n\r\n  onModalOpen = image => {\r\n    this.setState({ modalImage: image });\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render () {\r\n    const { images, modalImage } = this.state;\r\n\r\n    return (\r\n      <>\r\n     <div>\r\n      <SearchForm onSubmit={this.handleSubmit} />\r\n        <Gallery images={images} \r\n        onModalOpen={this.onModalOpen} />\r\n        {modalImage && (\r\n          <Modal modalImage={modalImage} \r\n          onModalClose={this.onModalClose} />\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.hendelLoadMore}\r\n        >\r\n          Load more\r\n        </button>\r\n      </div>\r\n      </>\r\n    );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}