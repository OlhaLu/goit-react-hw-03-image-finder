{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","components/App/App.module.css","components/Gallery/Gallery.module.css","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","config/configAPI.js","components/App/App.js","index.js"],"names":["module","exports","SearchForm","state","value","handleChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","this","className","styles","search","input","type","autoComplete","onChange","placeholder","Component","PhotoCard","webformatURL","tags","likes","views","comments","downloads","largeImageURL","showLargeImage","photo_card","img","src","alt","stats","stats_item","fullscreen_button","onClick","Gallery","images","gallery","map","image","key","uuidv1","onModalOpen","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","console","log","code","onModalClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","backdrop","ref","role","modal","fetchPhotos","query","pageNumber","perPage","fetch","then","res","json","data","hits","catch","error","mapper","link","App","modalImage","page","getImages","prevState","hendelLoadMore","scrollTo","top","body","scrollHeight","behavior","app","button","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7e301358.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__3kTBm\",\"mg\":\"PhotoCard_mg__1DIax\",\"stats\":\"PhotoCard_stats__3kjTu\",\"stats_item\":\"PhotoCard_stats_item__aHHwW\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__cMKY6\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__3dshS\",\"gallery-item\":\"PhotoCard_gallery-item__JGyzJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"SearchForm_search__8Ha7D\",\"input\":\"SearchForm_input__2Jj23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Y8wg\",\"button\":\"App_button__1FhDq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__32atM\"};","import React, { Component } from 'react';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n  \r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    onSubmit(value);\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form className={styles.search}\r\n      onSubmit={this.handleSubmit}>\r\n        <input className={styles.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\n\r\nconst PhotoCard = ({ webformatURL, tags, likes, views, comments, downloads, largeImageURL, showLargeImage}) => (\r\n  <div className={styles.photo_card}>\r\n  <img className={styles.img} src={webformatURL} alt={tags}/>\r\n\r\n  <div className={styles.stats}>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">thumb_up</i>\r\n      {likes}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">visibility</i>\r\n      {views}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">comment</i>\r\n      {comments}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">cloud_download</i>\r\n      {downloads}\r\n    </p>\r\n  </div>\r\n\r\n  <div>\r\n    <button\r\n      type=\"button\"\r\n      className={styles.fullscreen_button}\r\n      onClick={() => showLargeImage(largeImageURL)}\r\n    >\r\n      <i className=\"material-icons\">zoom_out_map</i>\r\n    </button>\r\n  </div>\r\n  </div>\r\n  )\r\n\r\nPhotoCard.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    showLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from './Gallery.module.css';\r\nimport uuidv1 from 'uuid/v1';\r\n\r\nconst Gallery = ({ images, showLargeImage }) => (\r\n  <ul className={styles.gallery}>\r\n    {images.map(image => (\r\n      <li key={uuidv1()} \r\n      className=\"galleryItem\">\r\n        <PhotoCard\r\n        image={image} \r\n        onModalOpen={showLargeImage} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  showLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Gallery;","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onModalClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    console.log(e);\r\n\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}","export const fetchPhotos = (query = '', pageNumber = 1, perPage = 12) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=${perPage}&key=14060203-0d0b2ec7a98403a3629cc5af2`,\r\n    )\r\n      .then(res => res.json())\r\n      .then(data => data.hits)\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };\r\n","import React, { Component } from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Gallery from '../Gallery/Gallery';\r\nimport Modal from '../Modal/Modal';\r\nimport {fetchPhotos} from '../../config/configAPI';\r\nimport styles from './App.module.css';\r\n\r\nconst mapper = images => {\r\n  return images.map(({ webformatURL: link, ...props }) => ({\r\n    link,\r\n    ...props,\r\n  }));\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    pageNumber: 1,\r\n    images: [],\r\n    modalImage: false,\r\n  };\r\n\r\n  handleSubmit = query => {\r\n    this.setState({ query, images: [], page: 1 }, this.getImages);\r\n  };\r\n\r\n  getImages = () => {\r\n    const { query, pageNumber } = this.state;\r\n    fetchPhotos(query, pageNumber)\r\n      .then(value => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...mapper(value)],\r\n          pageNumber: prevState.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n};\r\n\r\nhendelLoadMore = () => {\r\n  const { query, pageNumber, images } = this.state;\r\n  fetchPhotos(query, pageNumber)\r\n      .then(value => {\r\n      this.setState({\r\n    images: [...images, ...mapper(value)],\r\n      });\r\n      window.scrollTo({\r\n      top: document.body.scrollHeight,\r\n      behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n    })\r\n}\r\n\r\n  onModalOpen = image => {\r\n    this.setState({ modalImage: image });\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render () {\r\n    const { images, modalImage } = this.state;\r\n\r\n    return (\r\n      <>\r\n     <div className={styles.app}>\r\n      <SearchForm onSubmit={this.handleSubmit} />\r\n        <Gallery images={images} \r\n        onModalOpen={this.onModalOpen} />\r\n        {modalImage && (\r\n          <Modal modalImage={modalImage} \r\n          onModalClose={this.onModalClose} />\r\n        )}\r\n        <button className={styles.button}\r\n          type=\"button\"\r\n          onClick={this.hendelLoadMore}\r\n        >\r\n          Load more\r\n        </button>\r\n      </div>\r\n      </>\r\n    );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}