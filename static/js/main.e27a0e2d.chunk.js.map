{"version":3,"sources":["components/PhotoCard/PhotoCard.module.css","components/App/App.module.css","components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/Modal/Modal.js","config/configAPI.js","components/App/App.js","index.js"],"names":["module","exports","SearchForm","state","value","handleChange","e","setState","target","handleSubmit","onSubmit","props","preventDefault","this","className","styles","search","input","type","autoComplete","onChange","placeholder","Component","PhotoCard","webformatURL","tags","likes","views","comments","downloads","largeImageURL","onModalOpen","photo_card","img_web","src","alt","stats","stats_item","fullscreen_button","onClick","Gallery","images","gallery","map","image","key","uuidv1","gallery_item","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","code","onModalClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","backdrop","ref","role","modal","fetchPhotos","query","pageNumber","perPage","fetch","then","res","json","data","hits","catch","error","mapper","webURL","App","isModalOpen","getImages","prevState","hendelLoadMore","scrollTo","top","body","scrollHeight","behavior","app","container","button","disabled","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e27a0e2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__3kTBm\",\"img_web\":\"PhotoCard_img_web__1aBIu\",\"stats\":\"PhotoCard_stats__3kjTu\",\"stats_item\":\"PhotoCard_stats_item__aHHwW\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__cMKY6\",\"fullscreen_icon\":\"PhotoCard_fullscreen_icon__3D6Nb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3Y8wg\",\"container\":\"App_container__2FbpE\",\"button\":\"App_button__1FhDq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"SearchForm_search__8Ha7D\",\"input\":\"SearchForm_input__2Jj23\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__32atM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1xKwp\",\"modal\":\"Modal_modal__1_Fuk\"};","import React, { Component } from 'react';\r\nimport styles from './SearchForm.module.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n  \r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    e.preventDefault();\r\n    onSubmit(value)\r\n}\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form className={styles.search}\r\n      onSubmit={this.handleSubmit}>\r\n        <input className={styles.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './PhotoCard.module.css';\r\n\r\nconst PhotoCard = ({ webformatURL, tags, likes, views, comments, downloads, largeImageURL, onModalOpen}) => (\r\n  <div className={styles.photo_card}>\r\n  <img className={styles.img_web} src={webformatURL} alt={tags}/>\r\n\r\n  <div className={styles.stats}>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">thumb_up</i>\r\n      {likes}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">visibility</i>\r\n      {views}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">comment</i>\r\n      {comments}\r\n    </p>\r\n    <p className={styles.stats_item}>\r\n      <i className=\"material-icons\">cloud_download</i>\r\n      {downloads}\r\n    </p>\r\n  </div>\r\n\r\n  <div>\r\n    <button\r\n      type=\"button\"\r\n      className={styles.fullscreen_button}\r\n      onClick={() => onModalOpen(largeImageURL)}\r\n    >\r\n      <i className=\"material-icons\">zoom_out_map</i>\r\n    </button>\r\n  </div>\r\n  </div>\r\n  )\r\n\r\nPhotoCard.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from './Gallery.module.css';\r\nimport uuidv1 from 'uuid/v1';\r\n\r\nconst Gallery = ({ images, onModalOpen }) => (\r\n  <ul className={styles.gallery}>\r\n    {images.map(image => (\r\n      <li key={uuidv1()}\r\n      className={styles.gallery_item}>\r\n        <PhotoCard\r\n        {...image} \r\n        onModalOpen={onModalOpen} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Gallery;","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onModalClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal (\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}","export const fetchPhotos = (query = '', pageNumber = 1, perPage = 12) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=${perPage}&key=14060203-0d0b2ec7a98403a3629cc5af2`,\r\n    )\r\n      .then(res => res.json())\r\n      .then(data => data.hits)\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };\r\n","import React, { Component } from 'react';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport Gallery from '../Gallery/Gallery';\r\nimport Modal from '../Modal/Modal';\r\nimport {fetchPhotos} from '../../config/configAPI';\r\nimport styles from './App.module.css';\r\n\r\nconst mapper = images => {\r\n  return images.map(({ webURL: webformatURL, ...props }) => ({\r\n    webformatURL,\r\n    ...props,\r\n  }));\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    pageNumber: 1,\r\n    images: [],\r\n    largeImageURL: '',\r\n    isModalOpen: false\r\n  };\r\n\r\n  handleSubmit = query => {\r\n    this.setState({ query, images: [], pageNumber: 1 }, this.getImages);\r\n  };\r\n\r\n  getImages = () => {\r\n    const { query, pageNumber} = this.state;\r\n    fetchPhotos(query, pageNumber)\r\n      .then(value => {\r\n        this.setState(prevState => ({\r\n          images: [...prevState.images, ...mapper(value)],\r\n          pageNumber: prevState.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n};\r\n\r\nhendelLoadMore = () => {\r\n  this.setState(\r\n    prevState => ({ pageNumber: prevState.pageNumber + 1 }))\r\n\r\n  const { query, pageNumber, images } = this.state;\r\n  fetchPhotos(query, pageNumber)\r\n      .then(value => {\r\n      this.setState({\r\n    images: [...images, ...mapper(value)],\r\n      });\r\n      window.scrollTo({\r\n      top: document.body.scrollHeight,\r\n      behavior: 'smooth',\r\n        });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n    })\r\n}\r\n\r\n  onModalOpen = largeImageURL => {\r\n    this.setState({ isModalOpen: true, largeImageURL });\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({ isModalOpen: null });\r\n  };\r\n\r\n  render () {\r\n    const { images, largeImageURL, isModalOpen } = this.state;\r\n\r\n    return (\r\n      <>\r\n     <div className={styles.app}>\r\n      <SearchForm onSubmit={this.handleSubmit} />\r\n        <Gallery images={images} \r\n        onModalOpen={this.onModalOpen}\r\n        />  \r\n        {isModalOpen && (\r\n          <Modal onModalClose={this.onModalClose}>\r\n          <img src={largeImageURL} alt=\"\" className={styles.image} />\r\n          </Modal>\r\n        )}\r\n      </div>   \r\n      <div className={styles.container}>\r\n      <button className={styles.button}\r\n        disabled={!this.state.query}\r\n        type=\"button\"\r\n        onClick={this.hendelLoadMore}\r\n      >\r\n      Load more\r\n    </button>\r\n    </div>\r\n      </>\r\n    );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}