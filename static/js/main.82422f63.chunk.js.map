{"version":3,"sources":["components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","config/configAPI.js","components/App.js","index.js"],"names":["SearchForm","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSearch","this","className","styles","searchForm","onSubmit","type","autoComplete","onChange","placeholder","Component","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","console","log","code","onModalClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","backdrop","ref","onClick","role","modal","PhotoCard","photos","showLargeImage","photo_card","src","webformatURL","alt","tags","class","likes","views","comments","downloads","largeImageURL","fullscreen_button","uuidv1","require","Gallery","gallery","map","item","key","onModalOpen","fetchPhotos","query","pageNumber","perPage","fetch","then","res","json","data","hits","catch","error","mapper","id","App","modalImage","currentPage","currentRequest","handlePageNumber","page","hendelLoadMore","prevState","image","prevProps","scrollTo","top","left","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.82422f63.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport styles from '../../styles.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n  \r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSearch(this.state.value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form \r\n      className={styles.searchForm} \r\n      onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.handleChange}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}","import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onModalClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    console.log(e);\r\n\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onModalClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport styles from '../../styles.css';\r\n\r\nconst PhotoCard = ({ photos, showLargeImage }) => (\r\n  <div className={styles.photo_card}>\r\n  <img src={photos.webformatURL} alt={photos.tags}/>\r\n\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      {photos.likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      {photos.views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      {photos.comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      {photos.downloads}\r\n    </p>\r\n  </div>\r\n\r\n  <Modal>{({ showLargeImage }) => (\r\n<div>\r\n  <button\r\n    type=\"button\"\r\n    onClick={() => showLargeImage(photos.largeImageURL)}\r\n    className={styles.fullscreen_button}\r\n  >\r\n  <i className=\"material-icons\">zoom_out_map</i>\r\n  </button>\r\n  </div>\r\n  )}\r\n</Modal>\r\n</div>\r\n  )\r\n\r\nPhotoCard.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    tags: PropTypes.string.isRequired\r\n  }).isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from '../../styles.css';\r\nconst uuidv1 = require('uuid/v1');\r\n\r\nconst Gallery = ({ photos, showLargeImage }) => (\r\n  <ul className={styles.gallery}>\r\n    {photos.map(item => (\r\n      <li key={uuidv1()} \r\n      className=\"galleryItem\">\r\n        <PhotoCard \r\n        item={item} \r\n        onModalOpen={showLargeImage} />\r\n      </li>\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nGallery.propTypes = {\r\n  photos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      likes: PropTypes.number.isRequired,\r\n      views: PropTypes.number.isRequired,\r\n      comments: PropTypes.number.isRequired,\r\n      downloads: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Gallery;","export const fetchPhotos = (query = '', pageNumber = 1, perPage = 12) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=\r\n      ${query}&page=${pageNumber}&per_page=${perPage}key=14060203-0d0b2ec7a98403a3629cc5af2`,\r\n    )\r\n      .then(res => res.json())\r\n      .then(data => data.hits)\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };","import React, { Component } from 'react';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport Gallery from './Gallery/Gallery';\r\nimport Modal from './Modal/Modal';\r\nimport {fetchPhotos} from '../config/configAPI';\r\n// import styles from '../../styles.css';\r\n\r\nconst mapper = photos => {\r\n  return photos.map(({\r\n    id, webformatURL, largeImageURL, likes, views, comments, downloads}) => ({\r\n    id, webformatURL, largeImageURL, likes, views, comments, downloads\r\n  }));\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    pageNumber: 1,\r\n    photos: [],\r\n    modalImage: false,\r\n    currentPage: 1,\r\n    currentRequest: ''\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { photos } = this.state;\r\n    if (prevState.photos !== photos) {\r\n      window.scrollTo({\r\n        top: 100,\r\n        left: 100,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    const { query, pageNumber } = this.state;\r\n    e.preventDefault();\r\n    const handlePageNumber = pageNumber + 1;\r\n    this.setState({ page: handlePageNumber });\r\n    this.fetchPhotos(query, handlePageNumber);\r\n  };\r\n\r\n  hendelLoadMore = () =>\r\n  this.setState(({ currentPage }) => {\r\n    return { currentPage: currentPage + 1 };\r\n  });\r\n  \r\n  fetchPhotos = () => {\r\n    const { query, pageNumber } = this.state;\r\n  \r\n    fetchPhotos(query, pageNumber)\r\n      .then(photos => {\r\n        this.setState(prevState => ({\r\n          photos: [...prevState.photos, ...mapper(photos)],\r\n          pageNumber: prevState.pageNumber + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n  };\r\n\r\n  onModalOpen = image => {\r\n    this.setState({ modalImage: image });\r\n  };\r\n\r\n  onModalClose = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render () {\r\n    const { photos, modalImage } = this.state;\r\n\r\n    return (\r\n      <>\r\n     <div>\r\n      <SearchForm onSubmit={this.handleSubmit} />\r\n        <Gallery photos={photos} \r\n        onModalOpen={this.onModalOpen} />\r\n        {modalImage && (\r\n          <Modal modalImage={modalImage} \r\n          onModalClose={this.onModalClose} />\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.hendelLoadMore}\r\n        >\r\n          Load more\r\n        </button>\r\n      </div>\r\n      </>\r\n    );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}