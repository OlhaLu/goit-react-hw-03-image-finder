{"version":3,"sources":["components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/SearchForm/SearchForm.js","config/configAPI.js","components/App.js","index.js"],"names":["MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","e","console","log","code","props","onClose","handleBackdropClick","current","target","window","addEventListener","this","removeEventListener","children","createPortal","className","styles","backdrop","ref","onClick","role","modal","Component","PhotoCard","tags","likes","views","comments","downloads","webformatURL","largeImageURL","photo_card","src","alt","class","type","fullscreen_button","uuidv1","require","Gallery","state","data","id","hendeLoadMore","gallery","map","item","photo","onImgClick","SearchForm","value","handleChange","setState","handleSubmit","preventDefault","onSearch","searchForm","onSubmit","autoComplete","onChange","hendelChenge","placeholder","fetchPhotos","query","pageNumber","perPage","fetch","then","res","json","hits","catch","error","mapper","photos","objectID","link","url","App","currentPage","currentRequest","page","prevState","hendelSerch","request","restPages","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.25fb9ec4.chunk.js","sourcesContent":["import React, { Component, createRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../../styles.css';\r\n\r\nconst MODAL_ROOT = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    console.log(e);\r\n\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div\r\n        className={styles.backdrop}\r\n        ref={this.backdropRef}\r\n        onClick={this.handleBackdropClick}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT,\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../Modal/Modal';\r\nimport styles from '../../styles.css';\r\n\r\nconst PhotoCard = ({ tags, likes, views, comments, downloads, webformatURL, largeImageURL }) => {\r\n  return (\r\n  <li className={styles.photo_card}>\r\n  <div className={styles.photo_card}>\r\n  <img src={webformatURL} alt={tags}/>\r\n\r\n  <div class=\"stats\">\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">thumb_up</i>\r\n      {likes}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">visibility</i>\r\n      {views}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">comment</i>\r\n      {comments}\r\n    </p>\r\n    <p class=\"stats-item\">\r\n      <i class=\"material-icons\">cloud_download</i>\r\n      {downloads}\r\n    </p>\r\n  </div>\r\n\r\n  <Modal>{({ handleBackdropClick}) => (\r\n<div>\r\n  <button\r\n    type=\"button\"\r\n    onClick={() => handleBackdropClick(largeImageURL)}\r\n    className={styles.fullscreen_button}\r\n  >\r\n  <i className=\"material-icons\">zoom_out_map</i>\r\n  </button>\r\n  </div>\r\n  )}\r\n</Modal>\r\n</div>\r\n</li>\r\n  )\r\n}\r\n\r\nPhotoCard.propTypes = {\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    likes: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    comments: PropTypes.number.isRequired,\r\n    downloads: PropTypes.number.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PhotoCard;","import React, { Component } from 'react';\r\nimport PhotoCard from '../PhotoCard/PhotoCard';\r\nimport styles from '../../styles.css';\r\nconst uuidv1 = require('uuid/v1');\r\n\r\nexport default class Gallery  extends Component {\r\nstate = {\r\n  data: {},\r\n  id: uuidv1()\r\n}\r\n\r\nrender () {\r\n  const { id, data } = this.state;\r\n    const { handleBackdropClick, hendeLoadMore } = this.props;\r\n\r\n    return (\r\n    <ul className={styles.gallery}>\r\n        {data.map(item => (\r\n            <PhotoCard \r\n            id={id}\r\n            photo={item} \r\n            onImgClick={handleBackdropClick} />\r\n    ))}\r\n  <button \r\n  type=\"button\" \r\n  onClick={hendeLoadMore}>\r\n    Load more\r\n  </button>\r\n  </ul>\r\n    )\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport styles from '../../styles.css';\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n  \r\n  handleChange = e => {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSearch(this.state.value);\r\n\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <form \r\n      className={styles.searchForm} \r\n      onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          value={value}\r\n          onChange={this.hendelChenge}\r\n          placeholder=\"Search images...\"\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}","export const fetchPhotos = (query = '', pageNumber = 1, perPage = 12) => {\r\n    return fetch(\r\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=\r\n      ${query}&page=${pageNumber}&per_page=${perPage}`,\r\n    )\r\n      .then(res => res.json())\r\n      .then(data => data.hits)\r\n      .catch(error => {\r\n        throw error;\r\n      });\r\n  };","import React, { Component } from 'react';\r\nimport Gallery from './Gallery/Gallery';\r\nimport SearchForm from './SearchForm/SearchForm';\r\nimport {fetchPhotos} from '../config/configAPI';\r\n// import styles from '../../styles.css';\r\n\r\nconst mapper = photos => {\r\n  return photos.map(({ objectID: id, url: link, ...props }) => ({\r\n    id,\r\n    link,\r\n    ...props,\r\n  }));\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    query: '',\r\n    pageNumber: 1,\r\n    photos: [],\r\n    currentPage: 1,\r\n    currentRequest: ''\r\n  };\r\n\r\n\r\n  handleSubmit = query => {\r\n    this.setState({ query, photos: [], page: 1 }, this.fetchPhotos);\r\n  };\r\n\r\n  hendeLoadMore = () =>\r\n  this.setState(({ currentPage }) => {\r\n    return { currentPage: currentPage + 1 };\r\n  });\r\n  \r\n  fetchPhotos = () => {\r\n    const { query, page } = this.state;\r\n  \r\n    fetchPhotos(query, page)\r\n      .then(photos => {\r\n        this.setState(prevState => ({\r\n          photos: [...prevState.photos, ...mapper(photos)],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      })\r\n  };\r\n\r\n  render () {\r\n    const { currentPage, currentRequest } = this.state;\r\n\r\n    return (\r\n      <>\r\n      <SearchForm hendelSerch={this.hendelSerch} />\r\n      <Gallery \r\n      request={currentRequest}\r\n      page={currentPage}\r\n      restPages={this.handleSubmit}\r\n      hendeLoadMore={this.hendeLoadMore}\r\n      />\r\n      </>\r\n    );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}